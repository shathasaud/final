<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ø¹Ø¬Ù„Ø© Ø§ØªØ¬Ø§Ù‡Ø§Øª Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø³ØªØ© â€” Ø£Ø¯ÙˆØ§Ø± Ø§Ù„ØªÙØ§Ø¹Ù„</title>
<style>
  :root{
    --bg:linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
    --card:linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
    --ink:#1a202c;
    --muted:#4a5568;
    --accent:#ff6b6b;
    --secondary:#4ecdc4;
    --tertiary:#45b7d1;
    --quaternary:#96ceb4;
    --ring:#3d5a80;
    --glow:#ff6b6b;
  }
  *{box-sizing:border-box}
  @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800;900&display=swap');
  body{margin:0;font-family:"Tajawal",system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Noto Sans Arabic",Tahoma,Arial,sans-serif;background:var(--bg);color:var(--ink);min-height:100vh}
  .wrap{max-width:1100px;margin:24px auto;padding:16px}
  h1{margin:0 0 6px;font-size:clamp(20px,2.6vw,28px);font-weight:800;color:var(--accent)}
  .starter-question{
    font-size:clamp(18px,2.2vw,24px);
    font-weight:700;
    color:var(--accent);
    margin:8px 0 16px;
    text-align:center;
    background:linear-gradient(135deg, var(--accent), var(--secondary));
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    background-clip:text;
    text-shadow:0 0 20px rgba(255,107,107,0.3);
  }
  .sub{color:var(--muted);margin-bottom:16px}
  .grid{display:grid;grid-template-columns:1fr;gap:16px}
  @media(min-width:980px){.grid{grid-template-columns:1.2fr .8fr}}
  .panel{
    background:var(--card);
    border:1px solid var(--ring);
    border-radius:20px;
    padding:20px;
    box-shadow:0 8px 32px rgba(0,0,0,0.3), 0 0 0 1px rgba(255,255,255,0.05);
    backdrop-filter:blur(10px);
  }
  .wheelArea{display:grid;grid-template-columns:1fr auto;gap:16px;align-items:center}
  .canvasBox{
    position:relative;
    aspect-ratio:1;
    border-radius:20px;
    background:linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
    display:flex;
    align-items:center;
    justify-content:center;
    box-shadow:inset 0 0 50px rgba(0,0,0,0.2), 0 0 30px rgba(102,126,234,0.3);
    border:2px solid rgba(255,255,255,0.3);
  }
  svg{width:100%;height:100%}
  .pointer{position:absolute;top:-8px;left:50%;transform:translateX(-50%)}
  .pointer svg{width:44px;height:44px;filter:drop-shadow(0 6px 10px rgba(0,0,0,.35))}
  .controls{display:flex;flex-wrap:wrap;gap:8px}
  button{
    appearance:none;
    border:none;
    border-radius:15px;
    padding:14px 20px;
    font-weight:700;
    cursor:pointer;
    background:linear-gradient(145deg, #e2e8f0, #cbd5e0);
    color:#2d3748;
    border:1px solid rgba(0,0,0,0.1);
    transition:all 0.3s ease;
    box-shadow:0 4px 15px rgba(0,0,0,0.1);
    font-family:"Tajawal",sans-serif;
  }
  button:hover{
    transform:translateY(-2px);
    box-shadow:0 8px 25px rgba(0,0,0,0.3);
    border-color:rgba(255,107,107,0.3);
  }
  .primary{
    background:linear-gradient(135deg, var(--accent), var(--secondary));
    border:none;
    color:#ffffff;
    box-shadow:0 6px 20px rgba(255,107,107,0.3);
  }
  .primary:hover{
    box-shadow:0 10px 30px rgba(255,107,107,0.4);
    transform:translateY(-3px);
  }
  .muted{opacity:.85}
  .pill{
    display:inline-flex;
    gap:8px;
    align-items:center;
    border-radius:999px;
    border:1px solid rgba(255,107,107,0.2);
    background:linear-gradient(145deg, #f7fafc, #edf2f7);
    padding:8px;
    box-shadow:0 4px 15px rgba(0,0,0,0.1);
  }
  .pill button{
    border:none;
    background:transparent;
    padding:10px 16px;
    border-radius:999px;
    color:var(--muted);
    transition:all 0.3s ease;
    font-family:"Tajawal",sans-serif;
  }
  .pill button.active{
    background:linear-gradient(135deg, var(--tertiary), var(--quaternary));
    color:#ffffff;
    box-shadow:0 4px 15px rgba(69,183,209,0.3);
  }
  .pill button:hover{
    color:#ffffff;
    transform:none;
    box-shadow:none;
  }
  .list{
    max-height:360px;
    overflow:auto;
    border:1px solid rgba(255,107,107,0.2);
    border-radius:16px;
    background:linear-gradient(145deg, #ffffff, #f7fafc);
    box-shadow:inset 0 2px 10px rgba(0,0,0,0.05);
  }
  .list h3{
    margin:12px 16px;
    color:var(--accent);
    font-size:18px;
    font-weight:700;
    font-family:"Tajawal",sans-serif;
  }
  .q{
    padding:12px 16px;
    border-top:1px solid rgba(255,255,255,0.05);
    transition:all 0.3s ease;
  }
  .q:first-of-type{border-top:none}
  .q:hover{
    background:rgba(255,107,107,0.05);
    transform:translateX(-2px);
  }
  .hint{font-size:12px;color:#9fb2cf}
  .big{font-size:22px;font-weight:800;margin:0}
  .copy{float:left;font-size:12px;opacity:.85}
  .chip{
    display:inline-block;
    padding:6px 12px;
    border-radius:999px;
    background:linear-gradient(135deg, var(--tertiary), var(--quaternary));
    border:none;
    color:#ffffff;
    font-size:14px;
    font-weight:600;
    box-shadow:0 2px 10px rgba(69,183,209,0.3);
    font-family:"Tajawal",sans-serif;
  }
  .centerBox{
    background:linear-gradient(145deg, #ffffff, #f7fafc);
    border:2px dashed rgba(255,107,107,0.3);
    border-radius:18px;
    padding:16px;
    margin-top:12px;
    box-shadow:inset 0 2px 10px rgba(0,0,0,0.05);
  }
  .spinning{animation:spin 3s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards}
  @keyframes spin{
    0%{transform:rotate(0deg)}
    100%{transform:rotate(var(--spin-degrees))}
  }
</style>
</head>
<body>
<div class="wrap">
  <h1>ğŸ¯ Ø¹Ø¬Ù„Ø© Ø§ØªØ¬Ø§Ù‡Ø§Øª Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø³ØªØ© â€” Ø£Ø¯ÙˆØ§Ø± Ø§Ù„ØªÙØ§Ø¹Ù„</h1>
  <h2 class="starter-question">Ù…Ù† ÙŠØ¨Ø¯Ø£ Ø£ÙˆÙ„Ø§Ù‹ØŸ</h2>

  <div class="grid">
    <div class="panel">
      <div class="wheelArea">
        <div class="canvasBox">
          <div class="pointer" aria-hidden="true">
            <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><path d="M32 2 L46 24 L18 24 Z" fill="#fbbf24" stroke="#92400e" stroke-width="2"/><circle cx="32" cy="24" r="4" fill="#fde68a" stroke="#92400e"/></svg>
          </div>
          <svg id="wheel" viewBox="-250 -250 500 500" aria-label="Ø¹Ø¬Ù„Ø© Ø§Ù„Ø£Ø¯ÙˆØ§Ø±">
            <g id="wheelGroup"></g>
            <circle r="248" fill="none" stroke="#1f3354" stroke-width="4"/>
            <circle r="44" fill="#0a1324" stroke="#1e3458" stroke-width="3"/>
            <text id="centerLabel" text-anchor="middle" dominant-baseline="middle" font-size="14" fill="#bed7ff">Ø§Ø¶ØºØ·ÙŠ Ù„Ù„Ø¯ÙˆØ±Ø§Ù†</text>
          </svg>
        </div>
        <div>
          <div class="centerBox">
            <div class="muted">Ø§Ù„Ù‚Ù†Ø§Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©:</div>
            <p class="big" id="currentDir">â€”</p>
            <div class="chip" id="subInfo">â€”</div>
          </div>
          <div class="controls" style="margin-top:16px">
            <button id="spinBtn" class="primary">ğŸ¯ Ø§Ø¨Ø¯Ø¦ÙŠ Ø§Ù„Ø¯ÙˆØ±Ø§Ù†</button>
            <button id="resetBtn" class="primary">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>
          </div>
        </div>
      </div>
    </div>

    <div class="panel">
      <div class="pill">
        <button id="formativeBtn" class="active">Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø¨Ù†Ø§Ø¦ÙŠ</button>
        <button id="summativeBtn">Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø®ØªØ§Ù…ÙŠ</button>
      </div>
      
      <div class="list" id="questionsList">
        <h3>Ø§Ø®ØªØ§Ø±ÙŠ Ù‚Ù†Ø§Ø© ØªÙØ§Ø¹Ù„ Ø£ÙˆÙ„Ø§Ù‹</h3>
        <div class="q">
          <div class="hint">Ù‚ÙˆÙ…ÙŠ Ø¨ØªØ¯ÙˆÙŠØ± Ø§Ù„Ø¹Ø¬Ù„Ø© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©</div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
const roles = [
  {
    name: "Ø·Ø§Ù„Ø¨ â†’ Ø·Ø§Ù„Ø¨",
    color: "#ff6b6b",
    formative: [
      "Ù…Ø§ Ø±Ø£ÙŠÙƒ ÙÙŠ Ø¥Ø¬Ø§Ø¨Ø© Ø²Ù…ÙŠÙ„ÙƒØŸ",
      "Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø³Ø§Ø¹Ø¯Ø© Ø²Ù…ÙŠÙ„Ùƒ ÙÙŠ ÙÙ‡Ù… Ù‡Ø°Ù‡ Ø§Ù„Ù†Ù‚Ø·Ø©ØŸ",
      "Ù…Ø§ Ø§Ù„Ø°ÙŠ ØªØ¹Ù„Ù…ØªÙ‡ Ù…Ù† Ù…Ù†Ø§Ù‚Ø´Ø© Ø²Ù…ÙŠÙ„ÙƒØŸ"
    ],
    summative: [
      "Ù‚ÙŠÙ‘Ù… Ø£Ø¯Ø§Ø¡ Ø²Ù…ÙŠÙ„Ùƒ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù†Ø´Ø§Ø·",
      "Ù…Ø§ Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ© ÙÙŠ Ø¹Ù…Ù„ Ø²Ù…ÙŠÙ„ÙƒØŸ",
      "Ø§Ù‚ØªØ±Ø­ ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ø¹Ù…Ù„ Ø²Ù…ÙŠÙ„Ùƒ"
    ]
  },
  {
    name: "Ø·Ø§Ù„Ø¨ â†’ Ù…Ø¬Ù…ÙˆØ¹Ø©",
    color: "#4ecdc4",
    formative: [
      "Ø´Ø§Ø±Ùƒ ÙÙƒØ±ØªÙƒ Ù…Ø¹ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©",
      "Ù…Ø§ Ø±Ø£ÙŠÙƒ ÙÙŠ Ø§Ù‚ØªØ±Ø§Ø­ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©ØŸ",
      "ÙƒÙŠÙ ÙŠÙ…ÙƒÙ† ØªØ·ÙˆÙŠØ± ÙÙƒØ±Ø© Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©ØŸ"
    ],
    summative: [
      "Ø§Ø¹Ø±Ø¶ Ù†ØªØ§Ø¦Ø¬ Ø¹Ù…Ù„Ùƒ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©",
      "Ù‚Ø¯Ù… ØªÙ‚ÙŠÙŠÙ…Ùƒ Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©",
      "Ù…Ø§ Ø§Ù„Ø¯Ø±ÙˆØ³ Ø§Ù„Ù…Ø³ØªÙØ§Ø¯Ø© Ù…Ù† Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØŸ"
    ]
  },
  {
    name: "Ù…Ø¹Ù„Ù… â†’ Ø·Ø§Ù„Ø¨",
    color: "#45b7d1",
    formative: [
      "Ù…Ø§ ÙÙ‡Ù…Ùƒ Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…ÙÙ‡ÙˆÙ…ØŸ",
      "Ø£ÙŠÙ† ØªØ¬Ø¯ ØµØ¹ÙˆØ¨Ø© ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ØŸ",
      "ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø£ÙƒØ«Ø±ØŸ"
    ],
    summative: [
      "Ø§Ø´Ø±Ø­ Ù…Ø§ ØªØ¹Ù„Ù…ØªÙ‡ Ø§Ù„ÙŠÙˆÙ…",
      "Ù…Ø§ Ø£Ù‡Ù… Ø¥Ù†Ø¬Ø§Ø²Ø§ØªÙƒ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø¯Ø±Ø³ØŸ",
      "ÙƒÙŠÙ Ø³ØªØ·Ø¨Ù‚ Ù…Ø§ ØªØ¹Ù„Ù…ØªÙ‡ØŸ"
    ]
  },
  {
    name: "Ù…Ø¹Ù„Ù… â†’ Ù…Ø¬Ù…ÙˆØ¹Ø©",
    color: "#96ceb4",
    formative: [
      "Ù…Ø§ Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª Ø§Ù„ØªÙŠ ØªÙˆØ§Ø¬Ù‡Ù‡Ø§ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©ØŸ",
      "ÙƒÙŠÙ ØªØªØ¹Ø§ÙˆÙ†ÙˆÙ† Ù„Ø­Ù„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©ØŸ",
      "Ù…Ø§ Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªÙŠ ØªØ³ØªØ®Ø¯Ù…ÙˆÙ†Ù‡Ø§ØŸ"
    ],
    summative: [
      "Ø§Ø¹Ø±Ø¶ÙˆØ§ Ù†ØªØ§Ø¦Ø¬ Ø¹Ù…Ù„ÙƒÙ… Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠ",
      "Ù…Ø§ Ø£Ø¨Ø±Ø² Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©ØŸ",
      "ÙƒÙŠÙ Ù‚ÙŠÙ‘Ù…ØªÙ… ØªØ¹Ø§ÙˆÙ†ÙƒÙ…ØŸ"
    ]
  },
  {
    name: "Ù…Ø¬Ù…ÙˆØ¹Ø© â†’ Ù…Ø¬Ù…ÙˆØ¹Ø©",
    color: "#feca57",
    formative: [
      "Ù…Ø§ Ø±Ø£ÙŠÙƒÙ… ÙÙŠ Ù†Ù‡Ø¬ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø£Ø®Ø±Ù‰ØŸ",
      "ÙƒÙŠÙ ÙŠÙ…ÙƒÙ† Ø¯Ù…Ø¬ Ø£ÙÙƒØ§Ø± Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ØªÙŠÙ†ØŸ",
      "Ù…Ø§ Ø£ÙˆØ¬Ù‡ Ø§Ù„Ø´Ø¨Ù‡ ÙˆØ§Ù„Ø§Ø®ØªÙ„Ø§Ù Ø¨ÙŠÙ† Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ØªÙŠÙ†ØŸ"
    ],
    summative: [
      "Ù‚Ø§Ø±Ù†ÙˆØ§ Ù†ØªØ§Ø¦Ø¬ÙƒÙ… Ù…Ø¹ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø£Ø®Ø±Ù‰",
      "Ù…Ø§ Ø§Ù„Ø°ÙŠ ØªØ¹Ù„Ù…ØªÙ…ÙˆÙ‡ Ù…Ù† Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø£Ø®Ø±Ù‰ØŸ",
      "Ø§Ù‚ØªØ±Ø­ÙˆØ§ ØªØ­Ø³ÙŠÙ†Ø§Øª Ù…ØªØ¨Ø§Ø¯Ù„Ø©"
    ]
  },
  {
    name: "Ù…Ø¬Ù…ÙˆØ¹Ø© â†’ Ø·Ø§Ù„Ø¨",
    color: "#a29bfe",
    formative: [
      "Ù…Ø§ Ù…Ø³Ø§Ù‡Ù…ØªÙƒ ÙÙŠ Ø¹Ù…Ù„ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©ØŸ",
      "ÙƒÙŠÙ ØªØ´Ø¹Ø± ØªØ¬Ø§Ù‡ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØŸ",
      "Ù…Ø§ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„Ø°ÙŠ ØªØ­ØªØ§Ø¬Ù‡ Ù…Ù† Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©ØŸ"
    ],
    summative: [
      "Ù‚ÙŠÙ‘Ù… Ù…Ø´Ø§Ø±ÙƒØªÙƒ ÙÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©",
      "Ù…Ø§ Ø§Ù„Ø°ÙŠ Ø£Ø¶ÙØªÙ‡ Ù„Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØŸ",
      "ÙƒÙŠÙ Ø·ÙˆÙ‘Ø±Øª Ù…Ù‡Ø§Ø±Ø§ØªÙƒ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©ØŸ"
    ]
  }
];

let currentRole = null;
let isSpinning = false;
let currentAssessmentType = 'formative';
let availableRoles = [...roles];

function createWheel() {
  const wheelGroup = document.getElementById('wheelGroup');
  wheelGroup.innerHTML = ''; // Clear existing wheel
  
  if (availableRoles.length === 0) {
    // Show completion message when all roles are used
    const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
    text.setAttribute('x', '0');
    text.setAttribute('y', '0');
    text.setAttribute('text-anchor', 'middle');
    text.setAttribute('dominant-baseline', 'middle');
    text.setAttribute('fill', '#22c55e');
    text.setAttribute('font-size', '18');
    text.setAttribute('font-weight', 'bold');
    text.textContent = 'ØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚Ù†ÙˆØ§Øª!';
    wheelGroup.appendChild(text);
    return;
  }
  
  const anglePerSection = 360 / availableRoles.length;
  
  availableRoles.forEach((role, index) => {
    const startAngle = index * anglePerSection;
    const endAngle = (index + 1) * anglePerSection;
    
    const startAngleRad = (startAngle * Math.PI) / 180;
    const endAngleRad = (endAngle * Math.PI) / 180;
    
    const x1 = Math.cos(startAngleRad) * 240;
    const y1 = Math.sin(startAngleRad) * 240;
    const x2 = Math.cos(endAngleRad) * 240;
    const y2 = Math.sin(endAngleRad) * 240;
    
    const largeArcFlag = anglePerSection > 180 ? 1 : 0;
    
    const pathData = [
      `M 0 0`,
      `L ${x1} ${y1}`,
      `A 240 240 0 ${largeArcFlag} 1 ${x2} ${y2}`,
      `Z`
    ].join(' ');
    
    const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
    path.setAttribute('d', pathData);
    path.setAttribute('fill', role.color);
    path.setAttribute('stroke', '#1a2332');
    path.setAttribute('stroke-width', '2');
    path.setAttribute('opacity', '0.9');
    
    const textAngle = startAngle + anglePerSection / 2;
    const textAngleRad = (textAngle * Math.PI) / 180;
    const textRadius = 160;
    const textX = Math.cos(textAngleRad) * textRadius;
    const textY = Math.sin(textAngleRad) * textRadius;
    
    const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
    text.setAttribute('x', textX);
    text.setAttribute('y', textY);
    text.setAttribute('text-anchor', 'middle');
    text.setAttribute('dominant-baseline', 'middle');
    text.setAttribute('fill', '#ffffff');
    text.setAttribute('font-size', '16');
    text.setAttribute('font-weight', 'bold');
    text.setAttribute('transform', `rotate(${textAngle}, ${textX}, ${textY})`);
    text.textContent = role.name;
    
    wheelGroup.appendChild(path);
    wheelGroup.appendChild(text);
  });
}

function spinWheel() {
  if (isSpinning) return;
  
  isSpinning = true;
  const spinBtn = document.getElementById('spinBtn');
  const wheel = document.getElementById('wheelGroup');
  const centerLabel = document.getElementById('centerLabel');
  
  spinBtn.disabled = true;
  spinBtn.textContent = 'ğŸ”„ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¯ÙˆØ±Ø§Ù†...';
  centerLabel.textContent = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¯ÙˆØ±Ø§Ù†...';
  
  const spins = 5 + Math.random() * 5;
  const finalAngle = Math.random() * 360;
  const totalRotation = spins * 360 + finalAngle;
  
  wheel.style.setProperty('--spin-degrees', `${totalRotation}deg`);
  wheel.classList.add('spinning');
  
  setTimeout(() => {
    if (availableRoles.length === 0) {
      wheel.classList.remove('spinning');
      isSpinning = false;
      spinBtn.disabled = true;
      spinBtn.textContent = 'âœ… Ø§Ù†ØªÙ‡Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚Ù†ÙˆØ§Øª';
      centerLabel.textContent = 'Ù…ÙƒØªÙ…Ù„!';
      return;
    }
    
    const normalizedAngle = (360 - (finalAngle % 360)) % 360;
    const sectionAngle = 360 / availableRoles.length;
    const selectedIndex = Math.floor(normalizedAngle / sectionAngle);
    
    currentRole = availableRoles[selectedIndex];
    
    // Remove the selected role from available roles
    availableRoles.splice(selectedIndex, 1);
    
    updateDisplay();
    
    // Recreate wheel without the selected role
    createWheel();
    
    wheel.classList.remove('spinning');
    isSpinning = false;
    
    if (availableRoles.length === 0) {
      spinBtn.disabled = true;
      spinBtn.textContent = 'âœ… Ø§Ù†ØªÙ‡Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚Ù†ÙˆØ§Øª';
      centerLabel.textContent = 'Ù…ÙƒØªÙ…Ù„!';
    } else {
      spinBtn.disabled = false;
      spinBtn.textContent = 'ğŸ¯ Ø§Ø¨Ø¯Ø¦ÙŠ Ø§Ù„Ø¯ÙˆØ±Ø§Ù†';
      centerLabel.textContent = 'Ø§Ø¶ØºØ·ÙŠ Ù„Ù„Ø¯ÙˆØ±Ø§Ù†';
    }
  }, 3000);
}

function updateDisplay() {
  if (!currentRole) return;
  
  document.getElementById('currentDir').textContent = currentRole.name;
  document.getElementById('subInfo').textContent = `${currentAssessmentType === 'formative' ? 'Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø¨Ù†Ø§Ø¦ÙŠ' : 'Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø®ØªØ§Ù…ÙŠ'}`;
  
  updateQuestionsList();
}

function updateQuestionsList() {
  const questionsList = document.getElementById('questionsList');
  
  if (!currentRole) {
    questionsList.innerHTML = `
      <h3>Ø§Ø®ØªØ§Ø±ÙŠ Ù‚Ù†Ø§Ø© ØªÙØ§Ø¹Ù„ Ø£ÙˆÙ„Ø§Ù‹</h3>
      <div class="q">
        <div class="hint">Ù‚ÙˆÙ…ÙŠ Ø¨ØªØ¯ÙˆÙŠØ± Ø§Ù„Ø¹Ø¬Ù„Ø© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©</div>
      </div>
    `;
    return;
  }
  
  const questions = currentAssessmentType === 'formative' ? currentRole.formative : currentRole.summative;
  const title = currentAssessmentType === 'formative' ? 'Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø¨Ù†Ø§Ø¦ÙŠ' : 'Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø®ØªØ§Ù…ÙŠ';
  
  questionsList.innerHTML = `
    <h3>${title}</h3>
    ${questions.map(question => `
      <div class="q">
        <div>${question}</div>
      </div>
    `).join('')}
  `;
}

function switchAssessmentType(type) {
  currentAssessmentType = type;
  
  document.getElementById('formativeBtn').classList.toggle('active', type === 'formative');
  document.getElementById('summativeBtn').classList.toggle('active', type === 'summative');
  
  updateDisplay();
}

function resetWheel() {
  availableRoles = [...roles];
  currentRole = null;
  isSpinning = false;
  
  const spinBtn = document.getElementById('spinBtn');
  const centerLabel = document.getElementById('centerLabel');
  
  spinBtn.disabled = false;
  spinBtn.textContent = 'ğŸ¯ Ø§Ø¨Ø¯Ø¦ÙŠ Ø§Ù„Ø¯ÙˆØ±Ø§Ù†';
  centerLabel.textContent = 'Ø§Ø¶ØºØ·ÙŠ Ù„Ù„Ø¯ÙˆØ±Ø§Ù†';
  
  document.getElementById('currentDir').textContent = 'â€”';
  document.getElementById('subInfo').textContent = 'â€”';
  
  createWheel();
  updateQuestionsList();
}

// Event listeners
document.getElementById('spinBtn').addEventListener('click', spinWheel);
document.getElementById('wheel').addEventListener('click', spinWheel);
document.getElementById('resetBtn').addEventListener('click', resetWheel);
document.getElementById('formativeBtn').addEventListener('click', () => switchAssessmentType('formative'));
document.getElementById('summativeBtn').addEventListener('click', () => switchAssessmentType('summative'));

// Initialize
createWheel();
updateQuestionsList();
</script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9abae871061ecdf8',t:'MTc2NTM1MDQ3NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
